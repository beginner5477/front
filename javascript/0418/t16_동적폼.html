<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>t16_동적폼</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        'use strict';
        let newText = "";
        let idx = 0;
        // //1개의 입력박스를 만든다
        // function inputBox() {
        //     let newText = '<input type="text" name="product id="product" class="form-control"/><br/>';
        //     demo.innerHTML = newText;
        // }

        // // 버튼을 클릭할 때마다 입력 박스를 추가해보자
        // function inputBox() {

        //     newText += '<div class="input-group">';
        //     newText += '<input type="text" name="product" id="product" class="form-control"/><br/>';
        //     newText += '<div class="input-group-append"><input type="button" value="삭제" onclick=""/><br/></div>';
        //     newText += '</div>';
        //     demo.innerHTML = newText;
        // }

        // 버튼을 클릭할 때마다 입력 박스를 추가해보자 첨자 번호도 추가해주기
        function inputBox() {
            idx++;
            newText += '<div class="input-group" id="productBox'+idx+'">';
            newText += idx+'<input type="text" name="product" id="product'+idx+'" class="form-control"/><br/>';
            newText += '<div class="input-group-append">'+idx+'<input type="button" onclick="deleteBox('+idx+')" value="삭제" onclick=""/><br/></div>';
            newText += '</div>';
            demo.innerHTML = newText;
        }

        //동적폼 입력상자 삭제하기
        function deleteBox(idx) {
            // alert(idx);
            // document.getElementById("productBox"+idx).remove(document.getElementById("productBox"+idx));     //자살 기능 추가됨
            document.getElementById("productBox"+idx).parentNode.removeChild( document.getElementById("productBox"+idx));   //이거는 부모 객체로 올라갔다가 자식 죽여주는 느낌임 ㅇㅋ? ㅇㅇ
        }

    </script>
</head>
<body>
    <div class="container">
        <h2>입력창 추가(동적폼)</h2>
        <form name="myform">
            <p>
                <input type="button" value="입력창 추가" onclick="inputBox()" class="btn btn-light"/>
                <input type="button" value="입력창 모두 제거" onclick="location.reload()" class="btn btn-warning"/>
            </p>
        </form>
        <div id="demo"></div>
    </div>
</body>
</html>